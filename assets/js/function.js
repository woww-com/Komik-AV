class Pagination{constructor(e){this._config=e||{}}click(e,t){let s=e.hash.split("page-")[1],i=Array.isArray(t)?t.length:t;this.createPage(i,Number(s),t)}createElement(e,t,s,i){let a=document.createElement("page-numbers current"==t?"span":"a");return a.className=t,a.href=`#${e}`,"page-numbers current"!=t&&a.addEventListener("click",e=>{e.preventDefault(),this.click(a,s)}),a.innerText=i||e.split("page-")[1],a}createPage(e,t,s){let i,a,r,n=document.createElement("div"),l=t-1,o=t+1;if(s=s||e,n.className="pagination",e>=2){if(t>1&&(a=e<=2?"prev-left":"prev page-numbers",r=`page-${t-1}`,n.appendChild(this.createElement(r,a,s,"\xab Sebelumnya"))),e>2){if(e<=6)for(let c=1;c<=e;c++)i=t==c?"page-numbers current":"page-numbers",r=`page-${c}`,n.appendChild(this.createElement(r,i,s));else{t>2&&(r="page-1",n.appendChild(this.createElement(r,"page-numbers",s)),t>3&&t!=e&&t!=e-1&&(r=`page-${t-2}`,n.appendChild(this.createElement(r,"page-numbers",s)))),1===t?o+=2:2===t&&(o+=1),t===e?l-=2:t===e-1&&(l-=1);for(let h=l;h<=o;h++)0===h&&(h+=1),h>e||(i=t==h?"page-numbers current":"page-numbers",(t!=e||t==e&&h!=e-3)&&(r=`page-${h}`,n.appendChild(this.createElement(r,i,s))));t<e-1&&(t<e-2&&1!=t&&2!=t&&(r=`page-${t+2}`,n.appendChild(this.createElement(r,"page-numbers",s))),r=`page-${e}`,n.appendChild(this.createElement(r,"page-numbers",s)))}}t<e&&(a=e<=2?"next-r":"next page-numbers",r=`page-${t+1}`,n.appendChild(this.createElement(r,a,s,"Berikutnya \xbb")))}return this._config.callback&&this._config.callback(n,t,s),{currentPage:t,mainElement:n}}arrayToPage(e,t,s){let i=Array.isArray(e)?e.length:e,a=Array(Math.ceil(i/t)).fill(0).map((s,i)=>({id:`page-${i+1}`,items:Array.isArray(e)?e.slice(i*t,Math.min(e.length,(i+1)*t)):[]}));return s?this.createPage(a.length,1,a):a}}class BloggerScript{constructor(e){this.config=e||{}}err(e){return console.log(e),e}createRT(e){let t="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=s.length;for(let a=0;a<e;a++)t+=s.charAt(Math.floor(Math.random()*i));return t}createURL(){let e=this.config,t=document.location.protocol+"//"+e.host+"/feeds/";return"object"==typeof e.type?"comments"==e.type.name?t+=e.type.id+"/"+e.type.name+"/"+e.feed:t+=e.type.name+"/"+e.feed+"/"+e.type.id:t+=e.type+"/"+e.feed,!1!=e.label&&"object"!=typeof e.type&&(t+="/-/"+e.label),t=new URL(t),["q","category","start-index","max-results","orderby","alt"].forEach(s=>{!1!=e[s]&&"object"!=typeof e.type?t.searchParams.set(s,e[s]):"object"==typeof e.type&&"alt"==s?t.searchParams.set(s,e[s]):"object"==typeof e.type&&"comments"==e.type.name&&("start-index"==s||"max-results"==s)&&t.searchParams.set(s,e[s])}),t}resizeImage(e,t=!1){if(!t)return e;let s=/\/(s|w|h)\d{1,4}-((w|s|h)(\d{1,4})+-)?(c{1,2}|p-k-no-nu|rw)/gi,i=/\=(s|w|h)\d{1,4}-((w|s|h)(\d{1,4})+-)?(c{1,2}|p-k-no-nu|rw)/gi,a=/(\/(w|h|s)\d{1,4}\/)/gi,r=/(\=(w|h|s)\d{1,4})$/gi,n=/\-(rw)$/.test(t);return a.test(e)&&(e=e.replace(a,"/s72-c/")),r.test(e)&&(e=e.replace(r,"=s72-c")),n&&(e=e.replace(/\.(gif|jpe?g|tiff?|png|bmp)$/,".webp")),e.match(s)?e.replace(s,`/${t}`):e.match(i)?e.replace(i,`=${t}`):e}shuffle(e){var t,s,i=e.length;if(0===i)return[];for(;--i;)t=Math.floor(Math.random()*(i+1)),s=e[i],e[i]=e[t],e[t]=s;return e}shuffle2(e,t){return Math.floor(Math.random()*(t-e))+e}sort(e,t){if("Update"==t||"Added"==t){let s="Update"==t?"updated":"published";e=e.sort(function(e,t){return e[s]<t[s]?-1:e[s]>t[s]?1:0}).reverse()}else("A-Z"==t||"Z-A"==t)&&(e=e.sort((e,t)=>e.title.localeCompare(t.title,void 0,{numeric:!0})),"Z-A"==t&&(e=e.reverse()));return e}xhr(e,t=this.err){let s=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");s.onreadystatechange=function(){if(4==this.readyState&&200==this.status||304==this.status){let e=this.responseText,s=JSON.parse(e.substring(e.indexOf("{"),e.lastIndexOf("}")+1));t&&t(s)}else 4==this.readyState&&t&&t({})},s.open("GET",e,!0),s.send()}xhr2(e,t=this.err){let s=document.createElement("script"),i="xhr2"+this.createRT(7);return window[i]=function(e){return t(e)},s.src=`${e}&callback=window.${i}`,s.onerror=function(e){console.log(e),t({})},s.async=!0,(document.body||document.getElementsByTagName("body")[0]).appendChild(s)}getXHRtype(e){return new URL(e).hostname==document.location.hostname?"xhr":"xhr2"}get config(){return this._config}set config(e){for(let t in"_config"in this||(this._config={host:document.location.hostname,feed:"default",type:"posts",alt:"json-in-script","max-results":10,"start-index":1,category:!1,label:!1,q:!1,orderby:"published"}),e)Object.hasOwnProperty.call(e,t)&&("jumlah"==t&&(this._config["max-results"]=e[t]),this._config[t]=e[t])}getId(e){return e.split("post-")[1]}getAuthor(e){let t={};return"name"in e&&(t.name=e.name.$t),"uri"in e&&(t.uri=e.uri.$t),"gd$image"in e&&"src"in e.gd$image&&-1==e.gd$image.src.indexOf("https://img1.blogblog.com/")?t.image=this.resizeImage(e.gd$image.src,this._config.sizeImage):t.image=this._config.noImage?this.resizeImage(this._config.noImage,this._config.sizeImage):"",t}getDefault(e){let t={};return["published","updated","content","summary","title"].forEach(s=>{s in e&&(t[s]=e[s].$t,"published"==s&&(t.date=this.getTime(e[s].$t)))}),t}getImage(e){let t=this._config.noImage?this.resizeImage(this._config.noImage,this._config.sizeImage):"";if("media$thumbnail"in e)return this.resizeImage(e.media$thumbnail.url,this._config.sizeImage);if(!("content"in e))return t;{let s=e.content.$t,i=s.indexOf("<img"),a=s.indexOf('src="',i),r=s.indexOf('"',a+5),n=s.substr(a+5,r-a-5);return -1!=i&&-1!=a&&-1!=r&&""!=n?n:t}}getTime(e){if(/([12]\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01]))/.test(e)){var t=e,s=t.substring(0,4),i=t.substring(5,7),a=t.substring(8,10),r=[];return r[1]="Jan",r[2]="Feb",r[3]="Mar",r[4]="Apr",r[5]="May",r[6]="Jun",r[7]="Jul",r[8]="Aug",r[9]="Sep",r[10]="Oct",r[11]="Nov",r[12]="Dec",a+" "+r[parseInt(i,10)]+" "+s}return!1}getFeed(e){let t=[],s=e.feed&&e.feed.entry||e.entry&&[e.entry]||!1;if(s)for(let i=0;i<s.length;i++){let a=s[i],r=this.getDefault(a);r.id=this.getId(a.id.$t),r.link=a.link.find(e=>"alternate"==e.rel).href,r.image=this.getImage(a),"category"in a&&(r.label=a.category.map(e=>e.term)),"author"in a&&(r.author=this.getAuthor(a.author[0])),"thr$total"in a&&(r.comments_count=a.thr$total.$t),t.push(r)}return t}run(e){let t=this.createURL().href;this[this.getXHRtype(t)](t,t=>(e||this.err)(this.getFeed(t)))}}class BloggerRandom extends BloggerScript{constructor(e={}){super(e),this.config={"max-results":0}}getTotalResults(e){let t=e.feed.openSearch$totalResults.$t,s=this.config.jumlah;return s?t=t<s?1:this.shuffle2(1,t-s):(t=t<=150?1:this.shuffle2(1,t-150),s=150),this.config={"max-results":s,"start-index":t},this.createURL().href}getItems(e){if("entry"in e.feed){let t=this.getFeed(e);return this.shuffle(t)}return[]}run(e){let t=this.createURL().href,s=this.getXHRtype(t);this[s](t,t=>{let i=this.getTotalResults(t);if(!1==i)return this.config={"max-results":0,"start-index":1},(e||this.err)([]);this[s](i,t=>{this.config={"max-results":0,"start-index":1},(e||this.err)(this.getItems(t))})})}}class BloggerRelated extends BloggerScript{constructor(e={}){super(e)}run(e){let t=0,s=document.location.pathname,i=this.config.label,a=this.config.jumlah,r=[];if("object"==typeof i)i.forEach((i,n,l)=>{this._config.label=i;let o=this.createURL().href;this[this.getXHRtype(o)](o,i=>{if(this.getFeed(i).forEach(e=>!r.some(t=>t.id==e.id)&&r.push(e)),++t==l.length){let n=r.map(e=>new URL(e.link).pathname==s).indexOf(!0);r.splice(n,1),r=this.shuffle(r).slice(0,a),(e||this.err)(r)}})});else if("string"==typeof i){let n=this.createURL().href;this[this.getXHRtype(n)](n,t=>{(e||this.err)(this.getFeed(t))})}else(e||this.err)([])}}class BloggerSitemap extends BloggerScript{constructor(e){super(e),this.config={"max-results":150,"total-get":0},this.posts=[]}alphaSort(e){let t=[],s=[],i="";for(let a in 0!=e.length&&this.sort(e,"A-Z").forEach(e=>{let s=e.title.charAt(0).toLowerCase();-1==i.indexOf(s)?(i+=s,t[s]=[e]):t[s].push(e)}),t)if(Object.hasOwnProperty.call(t,a)){let r=t[a];s.push({id:a,items:r})}return s}get posts(){return this._posts}set posts(e){"_posts"in this||(this._posts=[]),Array.prototype.push.apply(this._posts,e)}resetPosts(){"_posts"in this&&(this._posts=[])}run(e){let t=this.createURL().href,s=this.getXHRtype(t),i=()=>{this.config={"max-results":150,"start-index":1,"total-get":0},this.resetPosts()};this.config["total-get"]++,this[s](t,t=>{if(t&&t.feed&&t.feed.entry){let s=t.feed.openSearch$totalResults.$t||0,a=t.feed.entry;this.posts=this.getFeed(t),a.length>=this.config["max-results"]?(this.config["start-index"]+=this.config["max-results"],this.config.firstContent&&1==this.config["total-get"]&&(e||this.err)({totalPosts:s,totalGet:this.config["total-get"],posts:this.posts,completed:!1}),this.run(e||this.err)):((e||this.err)({totalPosts:s,totalGet:this.config["total-get"],posts:this.posts,completed:!0}),i())}else(e||this.err)({totalPosts:this.posts.length,totalGet:this.config["total-get"],posts:this.posts,completed:!0}),i()})}}class BloggerComments extends BloggerScript{constructor(e){super(e),this.config={type:"comments"!=this.config.type&&"comments"!=this.config.type.name?"comments":this.config.type,"max-results":this.config.jumlah?this.config.jumlah:500}}getComments(e){let t=[];if(e.feed&&e.feed.entry)for(let s=0;s<e.feed.entry.length;s++){let i=e.feed.entry[s],a=this.getDefault(i);a.id=this.getId(i.id.$t),"thr$in-reply-to"in i&&(a["post-id"]=this.getId(i["thr$in-reply-to"].ref)),"thr$in-reply-to"in i&&(a["post-source"]=i["thr$in-reply-to"].source.replace("http://","https://")),a.link=i.link.find(e=>"alternate"==e.rel).href,"author"in i&&(a.author=this.getAuthor(i.author[0])),t.push(a)}return t}getPostInfo(e,t){if(0!=e.length){let s=0,i=0,a=this.config.type,r=this.config.feed,n=[];for(let l in e.forEach(e=>"post-id"in e&&"post-source"in e&&!(e["post-id"]in n)&&(n[e["post-id"]]=!0,s++)),n)if(Object.hasOwnProperty.call(n,l)){this.config={type:{name:"posts",id:l},feed:"summary"};let o=this.createURL().href;this[this.getXHRtype(o)](o,o=>{o&&"entry"in o&&(n[l]=this.getFeed(o)),++i==s&&(e=e.map(e=>("post-id"in e?e["post-info"]=n[e["post-id"]][0]||!1:e["post-info"]=!1,e)),this.config={type:a,feed:r},(t||this.err)(e))})}}else(t||this.err)(e)}run(e){let t=this.createURL().href;this[this.getXHRtype(t)](t,t=>(e||this.err)(this.getComments(t)))}}function createHTML(e,t,s){let i="",a=e.label.find(e=>config.status.some(t=>t==e)),r=e.label.find(e=>config.type.some(t=>t==e)),n=e.label.find(e=>e.match(config.regexChapter)),l=e.label.find(e=>e.match(config.regexScore)),o=e.label.find(e=>/^(19|20)\d{2}$/.test(e)),c=e.label.filter(e=>config.genre.some(t=>t==e)),h=e.label.find(e=>"Hot"==e||"hot"==e),d="function"==typeof timeAgo?timeAgo(new Date(e.published)):e.date,p=BloggerScript.prototype.resizeImage;if("series"==t)return e.image=p(e.image,"w148-h215-p-k-no-nu-rw"),i+='<div class="bs"><div class="bsx"',e.id&&(i+=' data-id="'+e.id+'"'),i+='><a href="'+e.link+'" title="'+e.title+'"><div class="limit"><div class="ply"></div>',r&&(i+='<span class="type '+r+'">'+r+"</span>"),a&&(i+='<span class="status '+a+'">'+a+"</span>"),i+='<img class"lazy" loading="lazy" height="210" width="150" src="'+e.image+'"></div><div class="bigor"><div class="tt">'+e.title+'</div><div class="adds">',n&&(i+='<div class="epxs">'+n+"</div>"),l&&(i+='<div class="rt"><div class="rating"><div class="rating-prc"><div class="rtp"><div class="rtb"><span style="width:'+l.replace(".","").slice(0,2)+'%"></span></div></div></div><div class="numscore">'+l+"</div></div></div>"),i+"</div></div></a></div></div>";if("list"==t)return e.image=p(e.image,"w58-h72-p-k-no-nu-rw"),i+='<li><div class="imgseries"><a class="series" href="'+e.link+'"><img loading="lazy" width="58" height="72" src="'+e.image+'"></a></div><div class="leftseries"><h2><a class="series" href="'+e.link+'">'+e.title+"</a></h2><span><b>Genres: </b>",c&&c.length>0&&(i+=c.map(e=>'<a href="/search/label/'+e+'?max-results=20">'+e+"</a>").join(", ")),i+="</span></span>",o&&(i+=o),i+"</span></div></li>";if("latest"==t)return e.image=p(e.image,"w75-h100-p-k-no-nu-rw"),i+='<div class="utao"><div class="uta"><div class="imgu"><a class="series" href="'+e.link+'" title="'+e.title+'"><img src="'+e.image+'" loading="lazy" width="72" height="120">',h&&(i+='<span class="hot">H</span>'),i+='</a></div><div class="luf"><a class="series" href="'+e.link+'" title="'+e.title+'"><h4>'+e.title+"</h4></a><ul",r&&(i+=' class="'+r+'"'),i+=">","items"in e&&e.items.length>0&&e.items.forEach(e=>{let t=e.title.match(config.regexChapter).join(" ").replace(/((chapter)(\.\s|\s|\.))/i,"Ch.").replace(/((episode)(\.\s|\s|\.))/i,"Ep.").replace(/((volume)(\.\s|\s|\.))/i,"Vol."),s="function"==typeof timeAgo?timeAgo(new Date(e.published)):e.date;i+='<li><a href="'+e.link+'">'+t+"</a><span>"+s+"</span></li>"}),i+"</ul></div></div></div>";if("slider"==t){let g=p(e.image,"w620-h280-c-rw"),f;if(e.image=p(e.image,"w115-h163-c-rw"),"summary"in e)f=e.summary.slice(0,150);else if("content"in e){let m=e.content.indexOf("<p>"),u=e.content.indexOf("</p>");[m,u].some(e=>-1!=e)&&(f=e.content.slice(m+3,u).slice(0,150))}else f="Tidak ada Sinopsis";return i+='<div class="slide-item full"><div class="slide-bg"><img src="'+g+'"></div><div class="slide-shadow"></div><div class="slide-content"><div class="poster"><a href="'+e.link+'"><img src="'+e.image+'" loading="lazy" width="115" height="163"></a></div><div class="info-left"><div class="title">',l&&(i+='<div class="rating"><div class="vote"><div class="site-vote"><span class="fa fa-star"><span>'+l+"</span></span></div></div></div>"),i+='<span class="ellipsis"><a href="'+e.link+'">'+e.title+"</a></span>",r&&(i+='<span class="release-year">'+r+"</span>"),i+='</div><div class="extras"><div class="extra-category">',c&&c.length>0&&(i+=c.map(e=>'<a href="/search/label/'+e+'?max-results=20">'+e+"</a>").join(", ")),i+='</div></div><div class="excerpt">',i+='<span class="title">Summary</span><p>'+f+"</p>",i+='</div><div class="cast">',a&&(i+='<span class="director"><strong>Status: </strong>'+a+"</span>"),i+"</div></div></div></div>"}return"chapterlist"==t&&(i+='<li data-num="'+(s||e.title).replace(/[^\d]/g,"")+'"><div class="chbox"><div class="eph-num"><a href="'+e.link+'"><span class="chapternum">'+(s||e.title)+'</span><span class="chapterdate">'+d+"</span></a></div></div></li>"),i}function createMultiHTML(e,t){let s="";return e&&e.length>0&&e.forEach(e=>{s+=createHTML(e,t)}),s}function bookmarkHTML(e,t){if("btnActive"==e)t.classList.add("marked"),t.innerHTML='<i class="fas fa-bookmark" aria-hidden="true"></i> Bookmarked';else if("btnInActive"==e)t.classList.remove("marked"),t.innerHTML='<i class="far fa-bookmark" aria-hidden="true"></i> Bookmark';else if("btnLoading"==e)t.innerHTML='<i class="fas fa-sync fa-spin"></i> Loading';else if("bookmarkEmpty"==e)t.innerHTML="<h4><center>YOU HAVE NO BOOKMARK, NOTHING TO SHOW</center></h4>";else if("bookmarkLimit"==e)return alert("Sorry, you reached your bookmark limit, please remove other manga from bookmark")}function pageLoader(e){let t=document.getElementById("page-loader");if("remove"==e)window.pageLoadActive=!1,document.body.style.overflow="",setTimeout(()=>{t&&t.remove(),document.documentElement.scrollTo({top:0,behavior:"smooth"})},100);else if("add"==e){window.pageLoadActive=!0;let s=document.createElement("div");s.id="page-loader",s.innerHTML='<div class="loader"><div class="square square1"></div><div class="square square2"></div><div class="square square3"></div><div class="square square4"></div></div>',document.body.style.overflow="hidden",document.body.appendChild(s)}}function disqusLoader(){let e=document.getElementById("disqus_thread"),t=createScript();e&&e.getBoundingClientRect().bottom<=window.innerHeight&&(t.async=!0,t.type="text/javascript",t.src=`//${config.disqus_shortname}.disqus.com/embed.js`,(document.body||document.head).appendChild(t),window.removeEventListener("scroll",disqusLoader))}function createDisqus(e,t,s){let i=new URL(e),a=`https://${i.host+i.pathname}`;"DISQUS"in window?window.DISQUS.reset({reload:!0,config:function(){this.page.url=a,this.page.title=t,this.page["identifier "]=s}}):(window.removeEventListener("scroll",disqusLoader),window.disqus_config=function(){this.page.url=a,this.page.title=t,this.page["identifier "]=s},window.addEventListener("scroll",disqusLoader))}function createScript(e){let t=document.createElement("script");return e&&(t.src=e),t}function createOwl(e){let t=createScript("https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"),s=createScript("https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"),i=document.getElementById("jquery-script");s.onload=e,i?"function"==typeof jQuery?document.body.appendChild(s):i.onload=function(){console.log("jquery-element-loaded"),document.body.appendChild(s)}:(t.onload=function(){console.log("jquery-loaded"),document.body.appendChild(s)},document.body.appendChild(t))}function timeAgo(e){var t=(new Date).getTime()-e.getTime(),s=Math.floor(t/1e3),i=Math.floor(s/60),a=Math.floor(i/60),r=Math.floor(a/24),n=Math.floor(r/30);return 0===t?"Just now":s<60?s+" seconds Ago":i<60?i+" minutes Ago":a<24?a+" hours Ago":r<30?r+" days Ago":n<12?n+" months Ago":Math.floor(n/12)+" years Ago"}
